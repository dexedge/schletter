---
title: "Burgtheater & KÃ¤rntnertortheater, 1781"
author: "David Black and Dexter Edge"
date: "`r format(Sys.time(), '%d %b %Y')`"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
library(tidyverse)
library(DT)
library(lubridate)

calendar <- read.csv("Schletter.csv", header=FALSE, na.strings = c("", "NA"))

colnames(calendar) <- c("Date", "Theater", "Title", "Type", "Author", "Composer")

# Drop rows with blank dates
calendar <- drop_na(calendar, Date)
# Change Filemaker date string to YYYY-MM-DD
calendar$Date <- mdy(calendar$Date)
calendar$Theater <- as_factor(calendar$Theater)
calendar$Type <- as_factor(calendar$Type)

```

```{r}
DT::datatable(calendar, 
              # style = "bootstrap",
              rownames = FALSE,
              filter = 'top',
              options = list(
                autoWidth = TRUE,
                pageLength = 25,
                columnDefs = list(
                                  list(width = '105px',
                                       targets  = c(0)),
                                  list(width = '85px',
                                       target = c(1)),
                                  list(width = '320px',
                                       targets = c(2)),
                                  list(width = '110px',
                                       targets = c(3))))
              ) %>% 
              # Make titles italic except "No title"
              formatStyle("Title", 
                          fontStyle = styleEqual('No title',
                                        'normal',
                                         default = 'italic')
              ) %>%
              # Concerts have NA for their work Type
              # Make their titles normal type
              formatStyle("Title", "Type",
                          fontStyle = styleEqual(NA,
                                         'normal'))
  
```